{
  "appgateways": [
    {
      "basePath": "/",
      "errorPage": "/error",
      "host": "localhost",
      "name": "Sonar",
      "policies": [
        {
          "authentication": {
            "allowUnauthenticated": true
          },
          "authorization": {
            "allowAll": true
          },
          "location": "/accessdenied"
        },
        {
          "authentication": {
            "allowUnauthenticated": true
          },
          "authorization": {
            "allowAll": true
          },
          "location": "/images"
        },
        {
          "authentication": {
            "allowUnauthenticated": true
          },
          "authorization": {
            "allowAll": true
          },
          "location": "/styles"
        },
        {
          "authentication": {
            "idps": [
              "Amazon_Cognito"
            ]
          },
          "headers": {
            "SM_USER": "Amazon_Cognito.email",
            "firstname": "Amazon_Cognito.given_name",
            "lastname": "Amazon_Cognito.family_name"
          },
          "location": "/"
        }
      ],
      "preserveHost": true,
      "type": "header",
      "unauthorizedPage": "/accessdenied",
      "upstream": "http://localhost:8987"
    }
  ],
  "connectors": [
    {
      "disablePKCE": false,
      "name": "Amazon_Cognito",
      "oauthClientID": "<registered_app_client_id>",
      "oauthClientSecret": "<registered_app_client_secret>",
      "oauthRedirectURL": "https://localhost/cognito",
      "oidcLogoutCallbackURL": "",
      "oidcWellKnownURL": "https://cognito-idp.<AWS region>.amazonaws.com/<UserPoolId>/.well-known/openid-configuration",
      "type": "cognito"
    }
  ],
  "version": 1
}
